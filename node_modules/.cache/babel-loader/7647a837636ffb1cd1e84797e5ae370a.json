{"ast":null,"code":"import _objectSpread from \"/Users/pedrobazzo/Downloads/Cadastro/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/pedrobazzo/Downloads/Cadastro/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pedrobazzo/Downloads/Cadastro/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pedrobazzo/Downloads/Cadastro/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pedrobazzo/Downloads/Cadastro/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pedrobazzo/Downloads/Cadastro/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pedrobazzo/Downloads/Cadastro/frontend/src/components/user/UserCrud.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Main from '../template/Main';\nvar headerProps = {\n  icon: 'users',\n  title: 'Usuários',\n  subtitle: 'Cadastro de usuários: Incluir, Listar, Alterar e Excluir!'\n};\nvar baseUrl = 'http://localhost:3001/users';\nvar initialState = {\n  user: {\n    name: '',\n    endereco: '',\n    email: '',\n    telefone: ''\n  },\n  list: []\n};\n\nvar UserCrud =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserCrud, _Component);\n\n  function UserCrud() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserCrud);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserCrud)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = _objectSpread({}, initialState);\n    return _this;\n  }\n\n  _createClass(UserCrud, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      axios(baseUrl).then(function (resp) {\n        _this2.setState({\n          list: resp.data\n        });\n      });\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.setState({\n        user: initialState.user\n      });\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      var _this3 = this;\n\n      var user = this.state.user;\n      var method = user.id ? 'put' : 'post';\n      var url = user.id ? \"\".concat(baseUrl, \"/\").concat(user.id) : baseUrl;\n      axios[method](url, user).then(function (resp) {\n        var list = _this3.getUpdatedList(resp.data);\n\n        _this3.setState({\n          user: initialState.user,\n          list: list\n        });\n      });\n    }\n  }, {\n    key: \"getUpdatedList\",\n    value: function getUpdatedList(user) {\n      var add = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var list = this.state.list.filter(function (u) {\n        return u.id !== user.id;\n      });\n      if (add) list.unshift(user);\n      return list;\n    }\n  }, {\n    key: \"updateField\",\n    value: function updateField(event) {\n      var user = _objectSpread({}, this.state.user);\n\n      user[event.target.name] = event.target.value;\n      this.setState({\n        user: user\n      });\n    }\n  }, {\n    key: \"renderForm\",\n    value: function renderForm() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Nome\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"text form-control\",\n        name: \"name\",\n        value: this.state.user.name,\n        onChange: function onChange(e) {\n          return _this4.updateField(e);\n        },\n        placeholder: \"Digite o nome...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-12 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Endere\\xE7o\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"text form-control\",\n        name: \"endereco\",\n        value: this.state.user.endereco,\n        onChange: function onChange(e) {\n          return _this4.updateField(e);\n        },\n        placeholder: \"Digite o endere\\xE7o...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-12 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"E-mail\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"text form-control\",\n        name: \"email\",\n        value: this.state.user.email,\n        onChange: function onChange(e) {\n          return _this4.updateField(e);\n        },\n        placeholder: \"Digite o e-mail...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-12 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Telefone\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"text form-control\",\n        name: \"telefone\",\n        value: this.state.user.telefone,\n        onChange: function onChange(e) {\n          return _this4.updateField(e);\n        },\n        placeholder: \"Digite o telefone...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 d-flex justify-content-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick(e) {\n          return _this4.save(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Salvar\"), React.createElement(\"button\", {\n        className: \"btn btn-secondary ml-2\",\n        onClick: function onClick(e) {\n          return _this4.clear(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Cancelar\"))));\n    }\n  }, {\n    key: \"load\",\n    value: function load(user) {\n      this.setState({\n        user: user\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(user) {\n      var _this5 = this;\n\n      axios.delete(\"\".concat(baseUrl, \"/\").concat(user.id)).then(function (resp) {\n        var list = _this5.getUpdatedList(user, false);\n\n        _this5.setState({\n          list: list\n        });\n      });\n    }\n  }, {\n    key: \"renderTable\",\n    value: function renderTable() {\n      return React.createElement(\"table\", {\n        className: \"table mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"ID\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Nome\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Endere\\xE7o\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"E-mail\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Telefone\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"A\\xE7\\xF5es\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, this.renderRows()));\n    }\n  }, {\n    key: \"renderRows\",\n    value: function renderRows() {\n      var _this6 = this;\n\n      return this.state.list.map(function (user) {\n        return React.createElement(\"tr\", {\n          key: user.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, user.id), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, user.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, user.endereco), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, user.email), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, user.telefone), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-warning\",\n          onClick: function onClick() {\n            return _this6.load(user);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-pencil\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          className: \"btn btn-danger ml-2\",\n          onClick: function onClick() {\n            return _this6.remove(user);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-trash\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }))));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Main, Object.assign({}, headerProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), this.renderForm(), this.renderTable());\n    }\n  }]);\n\n  return UserCrud;\n}(Component);\n\nexport { UserCrud as default };","map":{"version":3,"sources":["/Users/pedrobazzo/Downloads/Cadastro/frontend/src/components/user/UserCrud.jsx"],"names":["React","Component","axios","Main","headerProps","icon","title","subtitle","baseUrl","initialState","user","name","endereco","email","telefone","list","UserCrud","state","then","resp","setState","data","method","id","url","getUpdatedList","add","filter","u","unshift","event","target","value","e","updateField","save","clear","delete","renderRows","map","load","remove","renderForm","renderTable"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from  'axios'\nimport Main from '../template/Main'\n\n\nconst headerProps = {\n    icon: 'users',\n    title: 'Usuários',\n    subtitle: 'Cadastro de usuários: Incluir, Listar, Alterar e Excluir!'\n}\n\nconst baseUrl = 'http://localhost:3001/users'\nconst initialState = {\n    user: { name: '', endereco: '', email: '', telefone: '' },\n    list: []\n}\n\nexport default class UserCrud extends Component {\n    \n    state = { ...initialState }\n    \n    componentWillMount() {\n        axios(baseUrl).then(resp => {\n            this.setState({ list: resp.data })\n        })\n    }\n\n    clear() {\n        this.setState({ user: initialState.user })\n    }\n\n    save() {\n        const user = this.state.user\n        const method = user.id ? 'put' : 'post'\n        const url = user.id ? `${baseUrl}/${user.id}` : baseUrl\n        \n        axios[method](url, user).then(resp => {\n            const list = this.getUpdatedList(resp.data)\n            this.setState({ user: initialState.user, list })\n        })\n    }\n\n    getUpdatedList(user, add = true) {\n        const list = this.state.list.filter(u => u.id !== user.id)\n        if (add) list.unshift(user)\n        return list\n    }\n\n    updateField(event) {\n        const user = { ...this.state.user }\n        user[event.target.name] = event.target.value\n        this.setState({ user })\n    }\n\n    renderForm() {\n        return (\n            <div className=\"form\">\n                <div className=\"row\">\n                    <div className=\"col-12 col-md-6\">\n                        <div className=\"form-group\">\n                            <label>Nome</label>\n                            <input type=\"text\" className=\"text form-control\"\n                                name=\"name\" value={this.state.user.name}\n                                onChange={e => this.updateField(e)}\n                                placeholder=\"Digite o nome...\" />\n                        </div>\n                    </div>\n                    \n                    <div className=\"col-12 col-md-6\">\n                        <div className=\"form-group\">\n                            <label>Endereço</label>\n                            <input type=\"text\" className=\"text form-control\"\n                                name=\"endereco\" value={this.state.user.endereco}\n                                onChange={e => this.updateField(e)}\n                                placeholder=\"Digite o endereço...\" />\n                        </div>\n                    </div>\n\n                    <div className=\"col-12 col-md-6\">\n                        <div className=\"form-group\">\n                            <label>E-mail</label>\n                            <input type=\"text\" className=\"text form-control\"\n                                name=\"email\" value={this.state.user.email}\n                                onChange={e => this.updateField(e)}\n                                placeholder=\"Digite o e-mail...\" />\n                        </div>\n                    </div>\n\n                    <div className=\"col-12 col-md-6\">\n                        <div className=\"form-group\">\n                            <label>Telefone</label>\n                            <input type=\"text\" className=\"text form-control\"\n                                name=\"telefone\" value={this.state.user.telefone}\n                                onChange={e => this.updateField(e)}\n                                placeholder=\"Digite o telefone...\" />\n                        </div>\n                    </div>\n\n                </div>\n                <hr />\n                <div className=\"row\">\n                    <div className=\"col-12 d-flex justify-content-end\">\n                        <button className=\"btn btn-primary\"\n                            onClick={e => this.save(e)} >\n                            Salvar\n                        </button> \n                        \n                        <button className=\"btn btn-secondary ml-2\"\n                            onClick={e => this.clear(e)}>\n                            Cancelar\n                        </button>                    \n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    load(user) {\n        this.setState({ user })\n    }\n\n    remove(user) {\n        axios.delete(`${baseUrl}/${user.id}`).then(resp => {\n            const list = this.getUpdatedList(user, false)\n            this.setState({ list })\n        })\n    }\n\n    renderTable() {\n        return (\n            <table className=\"table mt-4\">\n                <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>Nome</th>\n                        <th>Endereço</th>\n                        <th>E-mail</th>\n                        <th>Telefone</th>\n                        <th>Ações</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {this.renderRows()}\n                </tbody>\n            </table>\n        )\n    }\n\n    renderRows() {\n        return this.state.list.map(user => {\n            return (\n                <tr key={user.id}>\n                    <td>{user.id}</td>\n                    <td>{user.name}</td>\n                    <td>{user.endereco}</td>\n                    <td>{user.email}</td>\n                    <td>{user.telefone}</td>\n                    <td>\n                        <button className=\"btn btn-warning\"\n                            onClick={()=> this.load(user)}>\n                            <i className=\"fa fa-pencil\"></i>\n                        </button>\n                        <button className=\"btn btn-danger ml-2\"\n                            onClick={()=> this.remove(user)}>\n                            <i className=\"fa fa-trash\"></i>\n                        </button>\n                    </td>\n                </tr>\n            )\n        })\n    }\n\n    render() {\n        return (\n            <Main {...headerProps}>\n                {this.renderForm()}\n                {this.renderTable()}\n            </Main>\n        )\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}